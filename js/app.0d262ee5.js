(function(e){function t(t){for(var n,s,o=t[0],l=t[1],m=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,m||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={app:0},a=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/time_managment_demo/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var m=0;m<o.length;m++)t(o[m]);var c=l;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("85ec"),r=i.n(n);r.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=i("5f5b"),a=i("b1e0"),s=i("1dce"),o=i.n(s),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},m=[],c=(i("034f"),i("2877")),u={},d=Object(c["a"])(u,l,m,!1,null,null,null),f=d.exports,p=i("8c4f"),b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("h3",{staticClass:"heading mt-3"},[e._v("Time Management")]),i("b-row",[i("b-col",{staticClass:"my-1",attrs:{lg:"3"}},[i("b-form-datepicker",{attrs:{id:"input-5",required:"",placeholder:"Select Date"},model:{value:e.selectDate,callback:function(t){e.selectDate=t},expression:"selectDate"}})],1)],1),i("div",{staticStyle:{float:"right",margin:"10px"}},[i("b-button",{attrs:{size:"sm"},on:{click:e.addTime}},[e._v("Add New Time")])],1),i("div",{staticStyle:{float:"right",margin:"10px"}},[i("b-button",{attrs:{size:"sm"},on:{click:e.printThis}},[e._v("Export as PNG")])],1),i("div",{staticStyle:{float:"right",margin:"10px"}},[i("b-button",{attrs:{size:"sm"}},[i("export-excel",{attrs:{footer:e.footerData,data:e.filterData,fields:e.json_fields,name:"filename.xls"}},[e._v(" Download Excel ")])],1)],1),i("div",{ref:"exportPng"},[i("b-table",{attrs:{hover:"",bordered:"",items:e.filterData,responsive:"sm",fields:e.fields,"show-empty":""},scopedSlots:e._u([{key:"cell(startTime)",fn:function(t){return[e._v(" "+e._s(e.convertTimeIntoAmPmFormat(t.value))+" ")]}},{key:"cell(endTime)",fn:function(t){return[e._v(" "+e._s(e.convertTimeIntoAmPmFormat(t.value))+" ")]}},{key:"cell(difference)",fn:function(t){return[e._v(" "+e._s(e.timediff(t.item.startTime,t.item.endTime))+" Minutes ")]}},{key:"cell(action)",fn:function(t){return[i("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(i){return e.editTime(t)}}},[e._v(" Edit ")]),i("b-button",{attrs:{size:"sm"},on:{click:function(i){return e.deleteTime(t)}}},[e._v(" Delete ")])]}},{key:"custom-foot",fn:function(){return[i("tr",[i("th",[e._v("Day: "+e._s(e.selectDate))]),i("th",[e._v("Day Total Min: "+e._s(e.totalTimeInMin))]),i("th",[e._v("Day Total HR: "+e._s(e.totalTimeInHr))])])]},proxy:!0}])})],1),i("AddTime")],1)},v=[],T=(i("4de4"),i("13d5"),i("fb6a"),i("ac1f"),i("1276"),i("29a1")),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-modal",{attrs:{id:"addNewTime",title:"Add Time"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[i("div",{staticClass:"w-100"},[i("b-button",{staticClass:"float-right m-l-10",attrs:{variant:"danger",size:"sm"},on:{click:e.submitForm}},[e._v(" Save ")]),i("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:e.resetForm}},[e._v(" Cancel ")])],1)]},proxy:!0}])},[i("b-form",[i("b-form-group",{attrs:{id:"input-group-0",label:"Date:","label-for":"input-0"}},[i("b-form-datepicker",{attrs:{id:"input-0",required:"",disabled:e.time.isEdit,placeholder:"Select Date"},model:{value:e.time.dateSelect,callback:function(t){e.$set(e.time,"dateSelect",t)},expression:"time.dateSelect"}}),e.submitted&&e.$v.time.dateSelect.$error?i("span",{staticClass:"errorMsg"},[e._v("Please Select Date")]):e._e()],1),i("b-form-group",{attrs:{id:"input-group-1",label:"Start Time:","label-for":"input-1"}},[i("b-form-timepicker",{attrs:{id:"input-1",required:"","now-button":"",placeholder:"Select Start Time"},model:{value:e.time.startTime,callback:function(t){e.$set(e.time,"startTime",t)},expression:"time.startTime"}}),e.submitted&&e.$v.time.startTime.$error?i("span",{staticClass:"errorMsg"},[e._v("Please Select Start Time")]):e._e()],1),i("b-form-group",{attrs:{id:"input-group-2",label:"End Time:","label-for":"input-2"}},[i("b-form-timepicker",{attrs:{id:"input-2",required:"","now-button":"",placeholder:"Select End Time"},model:{value:e.time.endTime,callback:function(t){e.$set(e.time,"endTime",t)},expression:"time.endTime"}}),e.submitted&&e.$v.time.endTime.$error?i("span",{staticClass:"errorMsg"},[e._v("Please Select End Time")]):e._e(),i("span",{staticClass:"errorMsg"},[e._v(e._s(e.invalidTimeError))])],1),i("b-form-group",{attrs:{id:"input-group-3",label:"Task Description:","label-for":"input-3"}},[i("b-form-textarea",{attrs:{id:"input-3",required:"",rows:"3","max-rows":"6",placeholder:"Enter Task Description"},model:{value:e.time.taskDesc,callback:function(t){e.$set(e.time,"taskDesc",t)},expression:"time.taskDesc"}}),e.submitted&&e.$v.time.taskDesc.$error?i("div",{staticClass:"errorMsg"},[e._v(" Please Enter Task Description ")]):e._e()],1)],1)],1)],1)},g=[],D=i("6aac"),_=i("11de"),k=i("b5ae"),y={name:"add_new_time",data:function(){return{time:{dateSelect:"",startTime:"",endTime:"",taskDesc:""},submitted:!1,invalidTimeError:""}},validations:{time:{dateSelect:{required:k["required"]},startTime:{required:k["required"]},endTime:{required:k["required"]},taskDesc:{required:k["required"]}}},mounted:function(){var e=this;this.$root.$on("edit-time",(function(t){e.time=t,e.time.isEdit=!0,e.submitted=!1})),this.$root.$on("add-time",(function(t){e.time={},e.time.id=Date.now(),e.time.isEdit=!1,e.submitted=!1}))},components:{"b-modal":D["a"],"b-form":_["a"]},methods:{submitForm:function(){this.invalidTimeError="",this.submitted=!0;var e=this.timediff(this.time.startTime,this.time.endTime);if(this.$v.$touch(),e>0){if(this.$v.$invalid)return;this.$bvModal.hide("addNewTime"),this.$store.dispatch("updatelistTime",{times:this.time}),this.invalidTimeError=""}else this.submitted=!1,this.invalidTimeError="End Time Not Valid"},resetForm:function(){this.time={},this.time.isEdit=!1,this.submitted=!1,this.invalidTimeError=""},timediff:function(e,t){var i=new Date,n=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+(i.getDate()+1)).slice(-2),r=new Date(n+" "+e).getTime(),a=new Date(n+" "+t).getTime(),s=a-r,o=Math.floor(s/6e4);return o}}},w=y,S=Object(c["a"])(w,h,g,!1,null,null,null),$=S.exports,M=i("c0e9"),x=i.n(M),E=i("d4ec"),P=i("bee2"),O=function(){function e(t){Object(E["a"])(this,e),this.init(t)}return Object(P["a"])(e,[{key:"init",value:function(e){this.initData(e)}},{key:"initData",value:function(e){this._canvasEl=e}},{key:"getBase64",value:function(){var e=this._canvasEl;return e.toDataURL("image")}}]),e}(),C={isCanvas:function(e){return e instanceof HTMLCanvasElement}},I={getImage:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=C.isCanvas(e);if(!t)throw Error("getImage method param must be a canvas element");var i=new O(e);return i.getBase64()},getBase64:function(){}},j=I,q=i("21a6"),A={name:"Times",components:{"b-table":T["a"],AddTime:$},data:function(){var e=this;return{json_fields:{"Start Time":{field:"startTime",callback:function(t){return e.convertTimeIntoAmPmFormat(t)}},"End Time":{field:"endTime",callback:function(t){return e.convertTimeIntoAmPmFormat(t)}},"Minutes difference":{callback:function(t){return e.timediff(t.startTime,t.endTime)+" Minutes"}},"Task Description":"taskDesc"},fields:[{key:"startTime",label:"Start Time",sortable:!1},{key:"endTime",label:"End Time",sortable:!1,class:"text-center"},{key:"difference",label:"Minutes",sortable:!1},{key:"taskDesc",label:"Task Description",sortable:!1},{key:"action",label:"Actions"}],displayData:this.$store.state.listTimes,currentPage:1,selectDate:(new Date).toISOString().slice(0,10)}},computed:{filterData:function(){var e=this;return this.displayData.filter((function(t){return t.dateSelect===e.selectDate}))},totalTimeInMin:function(){var e=this,t=this.filterData.reduce((function(t,i){return t+e.timediff(i.startTime,i.endTime)}),0);return t},totalTimeInHr:function(){return Math.floor(this.totalTimeInMin/60)+":"+this.totalTimeInMin%60},footerData:function(){return["Date: "+this.selectDate,"Day Total Min: "+this.totalTimeInMin,"Day Total HR: "+this.totalTimeInHr]}},methods:{printThis:function(){var e=this,t=this.$refs.exportPng;x()(t).then((function(t){var i=j.getImage(t);Object(q["saveAs"])(i,e.selectDate+".png")})).catch((function(e){console.log("error",e)}))},addTime:function(){this.$root.$emit("add-time",{}),this.$bvModal.show("addNewTime")},deleteTime:function(e){var t=this;this.$bvModal.msgBoxConfirm("Please confirm that you want to delete Time Slot.",{title:"Please Confirm",size:"mm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(i){i&&t.$store.dispatch("deleteStoreTime",{times:e})}))},convertTimeIntoAmPmFormat:function(e){return e=e.split(":"),e[3]=e[0]<12?"AM":"PM",e[0]=e[0]%12||12,e=e[0]+":"+e[1]+" "+e[3],e},timediff:function(e,t){var i=new Date,n=i.getFullYear()+"-"+("0"+(i.getMonth()+1)).slice(-2)+"-"+("0"+(i.getDate()+1)).slice(-2),r=new Date(n+" "+e).getTime(),a=new Date(n+" "+t).getTime(),s=a-r,o=Math.floor(s/6e4);return o},editTime:function(e){this.$root.$emit("edit-time",Object.assign({},e.item)),this.$bvModal.show("addNewTime")}}},F=A,N=Object(c["a"])(F,b,v,!1,null,null,null),z=N.exports;n["default"].use(p["a"]);var H=[{path:"/",name:"Home",component:z}],L=new p["a"]({mode:"history",base:"/time_managment_demo/",routes:H}),B=L,J=(i("7db0"),i("a434"),i("2f62")),R=function(e,t){if(e)return"string"!==typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},Y=function(e){if(e)return JSON.parse(window.localStorage.getItem(e))};n["default"].use(J["a"]);var V=new J["a"].Store({state:{listTimes:Y("timeList")?Y("timeList"):[]},mutations:{updateTime:function(e,t){if(t.isEdit){var i=e.listTimes.find((function(e){return e.id===t.id}));i.dateSelect=t.dateSelect,i.startTime=t.startTime,i.endTime=t.endTime,i.taskDesc=t.taskDesc}else e.listTimes.push(t);R("timeList",e.listTimes)},deleteTime:function(e,t){e.listTimes.splice(t.index,1),R("timeList",e.listTimes)}},actions:{updatelistTime:function(e,t){var i=e.commit;i("updateTime",t.times)},deleteStoreTime:function(e,t){var i=e.commit;i("deleteTime",t.times)}},modules:{}}),G=(i("f9e3"),i("2dd8"),i("6672"),i("bf15"));n["default"].config.productionTip=!1,n["default"].use(r["a"]),n["default"].use(a["a"]),n["default"].use(o.a),n["default"].use(G["a"]),new n["default"]({router:B,store:V,render:function(e){return e(f)}}).$mount("#app")},6672:function(e,t,i){},"85ec":function(e,t,i){}});
//# sourceMappingURL=app.0d262ee5.js.map